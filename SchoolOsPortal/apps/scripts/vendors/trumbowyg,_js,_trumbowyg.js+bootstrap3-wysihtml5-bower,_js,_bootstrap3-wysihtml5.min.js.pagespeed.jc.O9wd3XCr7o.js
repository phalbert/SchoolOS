var mod_pagespeed_WeDYwIeFNO = "jQuery.trumbowyg={langs:{en:{viewHTML:'View HTML',undo:'Undo',redo:'Redo',formatting:'Formatting',p:'Paragraph',blockquote:'Quote',code:'Code',header:'Header',bold:'Bold',italic:'Italic',strikethrough:'Stroke',underline:'Underline',strong:'Strong',em:'Emphasis',del:'Deleted',superscript:'Superscript',subscript:'Subscript',unorderedList:'Unordered list',orderedList:'Ordered list',insertImage:'Insert Image',link:'Link',createLink:'Insert link',unlink:'Remove link',justifyLeft:'Align Left',justifyCenter:'Align Center',justifyRight:'Align Right',justifyFull:'Align Justify',horizontalRule:'Insert horizontal rule',removeformat:'Remove format',fullscreen:'Fullscreen',close:'Close',submit:'Confirm',reset:'Cancel',required:'Required',description:'Description',title:'Title',text:'Text',target:'Target'}},plugins:{}};(function(navigator,window,document,$){'use strict';$.fn.trumbowyg=function(options,params){var trumbowygDataName='trumbowyg';if(options===Object(options)||!options){return this.each(function(){if(!$(this).data(trumbowygDataName)){$(this).data(trumbowygDataName,new Trumbowyg(this,options));}});}if(this.length===1){try{var t=$(this).data(trumbowygDataName);switch(options){case'execCmd':return t.execCmd(params.cmd,params.param,params.forceCss);case'openModal':return t.openModal(params.title,params.content);case'closeModal':return t.closeModal();case'openModalInsert':return t.openModalInsert(params.title,params.fields,params.callback);case'saveRange':return t.saveRange();case'getRange':return t.range;case'getRangeText':return t.getRangeText();case'restoreRange':return t.restoreRange();case'destroy':return t.destroy();case'empty':return t.empty();case'html':return t.html(params);}}catch(c){}}return false;};var Trumbowyg=function(editorElem,options){var t=this,trumbowygIconsId='trumbowyg-icons';t.doc=editorElem.ownerDocument||document;t.$ta=$(editorElem);t.$c=$(editorElem);options=options||{};if(options.lang!=null||$.trumbowyg.langs[options.lang]!=null){t.lang=$.extend(true,{},$.trumbowyg.langs.en,$.trumbowyg.langs[options.lang]);}else{t.lang=$.trumbowyg.langs.en;}if($('#'+trumbowygIconsId,t.doc).length===0){var svgPath=options.svgPath;if(svgPath==null){try{throw new Error();}catch(e){var stackLines=e.stack.split('\\n');for(var i in stackLines){if(!stackLines[i].match(/http[s]?:\\/\\//)){continue;}svgPath=stackLines[Number(i)].match(/((http[s]?:\\/\\/.+\\/)([^\\/]+\\.js)):/)[1].split('/');svgPath.pop();svgPath=svgPath.join('/')+'/ui/icons.svg';break;}}}var div=t.doc.createElement('div');div.id=trumbowygIconsId;t.doc.body.insertBefore(div,t.doc.body.childNodes[0]);$.get(svgPath,function(data){div.innerHTML=new XMLSerializer().serializeToString(data.documentElement);});}var h=t.lang.header,isBlinkFunction=function(){return(window.chrome||(window.Intl&&Intl.v8BreakIterator))&&'CSS'in window;};t.btnsDef={viewHTML:{fn:'toggle'},undo:{isSupported:isBlinkFunction,key:'Z'},redo:{isSupported:isBlinkFunction,key:'Y'},p:{fn:'formatBlock'},blockquote:{fn:'formatBlock'},h1:{fn:'formatBlock',title:h+' 1'},h2:{fn:'formatBlock',title:h+' 2'},h3:{fn:'formatBlock',title:h+' 3'},h4:{fn:'formatBlock',title:h+' 4'},subscript:{tag:'sub'},superscript:{tag:'sup'},bold:{key:'B'},italic:{key:'I'},underline:{tag:'u'},strikethrough:{tag:'strike'},strong:{fn:'bold',key:'B'},em:{fn:'italic',key:'I'},del:{fn:'strikethrough'},createLink:{key:'K',tag:'a'},unlink:{},insertImage:{},justifyLeft:{tag:'left',forceCss:true},justifyCenter:{tag:'center',forceCss:true},justifyRight:{tag:'right',forceCss:true},justifyFull:{tag:'justify',forceCss:true},unorderedList:{fn:'insertUnorderedList',tag:'ul'},orderedList:{fn:'insertOrderedList',tag:'ol'},horizontalRule:{fn:'insertHorizontalRule'},removeformat:{},fullscreen:{class:'trumbowyg-not-disable'},close:{fn:'destroy',class:'trumbowyg-not-disable'},formatting:{dropdown:['p','blockquote','h1','h2','h3','h4'],ico:'p'},link:{dropdown:['createLink','unlink']}};t.o=$.extend(true,{},{lang:'en',fixedBtnPane:false,fixedFullWidth:false,autogrow:false,prefix:'trumbowyg-',semantic:true,resetCss:false,removeformatPasted:false,tagsToRemove:[],btnsGrps:{design:['bold','italic','underline','strikethrough'],semantic:['strong','em','del'],justify:['justifyLeft','justifyCenter','justifyRight','justifyFull'],lists:['unorderedList','orderedList']},btns:[['viewHTML'],['undo','redo'],['formatting'],'btnGrp-semantic',['superscript','subscript'],['link'],['insertImage'],'btnGrp-justify','btnGrp-lists',['horizontalRule'],['removeformat'],['fullscreen']],btnsDef:{},inlineElementsSelector:'a,abbr,acronym,b,caption,cite,code,col,dfn,dir,dt,dd,em,font,hr,i,kbd,li,q,span,strikeout,strong,sub,sup,u',pasteHandlers:[],imgDblClickHandler:function(){var $img=$(this),src=$img.attr('src'),base64='(Base64)';if(src.indexOf('data:image')===0){src=base64;}t.openModalInsert(t.lang.insertImage,{url:{label:'URL',value:src,required:true},alt:{label:t.lang.description,value:$img.attr('alt')}},function(v){if(v.src!==base64){$img.attr({src:v.src});}$img.attr({alt:v.alt});return true;});return false;},plugins:{}},options);if(options.btns){t.o.btns=options.btns;}else if(!t.o.semantic){t.o.btns[4]='btnGrp-design';}$.each(t.o.btnsDef,function(btnName,btnDef){t.addBtnDef(btnName,btnDef);});t.keys=[];t.tagToButton={};t.tagHandlers=[];t.pasteHandlers=[].concat(t.o.pasteHandlers);t.init();};Trumbowyg.prototype={init:function(){var t=this;t.height=t.$ta.height();t.initPlugins();t.doc.execCommand('enableObjectResizing',false,false);t.doc.execCommand('defaultParagraphSeparator',false,'p');t.buildEditor();t.buildBtnPane();t.fixedBtnPaneEvents();t.buildOverlay();setTimeout(function(){t.$c.trigger('tbwinit');});},addBtnDef:function(btnName,btnDef){this.btnsDef[btnName]=btnDef;},buildEditor:function(){var t=this,prefix=t.o.prefix,html='';t.$box=$('<div/>',{class:prefix+'box '+prefix+'editor-visible '+prefix+t.o.lang+' trumbowyg'});t.isTextarea=t.$ta.is('textarea');if(t.isTextarea){html=t.$ta.val();t.$ed=$('<div/>');t.$box.insertAfter(t.$ta).append(t.$ed,t.$ta);}else{t.$ed=t.$ta;html=t.$ed.html();t.$ta=$('<textarea/>',{name:t.$ta.attr('id'),height:t.height}).val(html);t.$box.insertAfter(t.$ed).append(t.$ta,t.$ed);t.syncCode();}t.$ta.addClass(prefix+'textarea').attr('tabindex',-1);t.$ed.addClass(prefix+'editor').attr({contenteditable:true,dir:t.lang._dir||'ltr'}).html(html);if(t.o.tabindex){t.$ed.attr('tabindex',t.o.tabindex);}if(t.$c.is('[placeholder]')){t.$ed.attr('placeholder',t.$c.attr('placeholder'));}if(t.o.resetCss){t.$ed.addClass(prefix+'reset-css');}if(!t.o.autogrow){t.$ta.add(t.$ed).css({height:t.height});}t.semanticCode();t._ctrl=false;t.$ed.on('dblclick','img',t.o.imgDblClickHandler).on('keydown',function(e){t._composition=(e.which===229);if(e.ctrlKey){t._ctrl=true;var k=t.keys[String.fromCharCode(e.which).toUpperCase()];try{t.execCmd(k.fn,k.param);return false;}catch(c){}}}).on('keyup',function(e){if(e.which>=37&&e.which<=40){return;}if(e.ctrlKey&&(e.which===89||e.which===90)){t.$c.trigger('tbwchange');}else if(!t._ctrl&&e.which!==17&&!t._composition){t.semanticCode(false,e.which===13);t.$c.trigger('tbwchange');}setTimeout(function(){t._ctrl=false;},200);}).on('mouseup keydown keyup',function(){t.updateButtonPaneStatus();}).on('focus blur',function(e){t.$c.trigger('tbw'+e.type);if(e.type==='blur'){$('.'+prefix+'active-button',t.$btnPane).removeClass(prefix+'active-button '+prefix+'active');}}).on('cut',function(){t.$c.trigger('tbwchange');}).on('paste',function(e){if(t.o.removeformatPasted){e.preventDefault();try{var text=window.clipboardData.getData('Text');try{t.doc.selection.createRange().pasteHTML(text);}catch(c){t.doc.getSelection().getRangeAt(0).insertNode(t.doc.createTextNode(text));}}catch(d){t.execCmd('insertText',(e.originalEvent||e).clipboardData.getData('text/plain'));}}$.each(t.pasteHandlers,function(i,pasteHandler){pasteHandler(e);});setTimeout(function(){if(t.o.semantic){t.semanticCode(false,true);}else{t.syncCode();}t.$c.trigger('tbwpaste',e);},0);});t.$ta.on('keyup paste',function(){t.$c.trigger('tbwchange');});$(t.doc).on('keydown',function(e){if(e.which===27){t.closeModal();return false;}});},buildBtnPane:function(){var t=this,prefix=t.o.prefix;if(t.o.btns===false){return;}var $btnPane=t.$btnPane=$('<div/>',{class:prefix+'button-pane'});$.each(t.o.btns,function(i,btnGrps){try{var b=btnGrps.split('btnGrp-');if(b[1]!=null){btnGrps=t.o.btnsGrps[b[1]];}}catch(c){}if(!$.isArray(btnGrps)){btnGrps=[btnGrps];}var $btnGroup=$('<div/>',{class:prefix+'button-group '+((btnGrps.indexOf('fullscreen')>=0)?prefix+'right':'')});$.each(btnGrps,function(i,btn){try{var $item;if(t.isSupportedBtn(btn)){$item=t.buildBtn(btn);}$btnGroup.append($item);}catch(c){}});$btnPane.append($btnGroup);});t.$box.prepend($btnPane);},buildBtn:function(btnName){var t=this,prefix=t.o.prefix,btn=t.btnsDef[btnName],isDropdown=btn.dropdown,textDef=t.lang[btnName]||btnName,$btn=$('<button/>',{type:'button',class:prefix+btnName+'-button '+(btn.class||''),html:'<svg><use xlink:href=\"#'+prefix+(btn.ico||btnName).replace(/([A-Z]+)/g,'-$1').toLowerCase()+'\"/></svg>',title:(btn.title||btn.text||textDef)+((btn.key)?' (Ctrl + '+btn.key+')':''),tabindex:-1,mousedown:function(){if(!isDropdown||$('.'+btnName+'-'+prefix+'dropdown',t.$box).is(':hidden')){$('body',t.doc).trigger('mousedown');}if(t.$btnPane.hasClass(prefix+'disable')&&!$(this).hasClass(prefix+'active')&&!$(this).hasClass(prefix+'not-disable')){return false;}t.execCmd((isDropdown?'dropdown':false)||btn.fn||btnName,btn.param||btnName,btn.forceCss||false);return false;}});if(isDropdown){$btn.addClass(prefix+'open-dropdown');var dropdownPrefix=prefix+'dropdown',$dropdown=$('<div/>',{class:dropdownPrefix+'-'+btnName+' '+dropdownPrefix+' '+prefix+'fixed-top','data-dropdown':btnName});$.each(isDropdown,function(i,def){if(t.btnsDef[def]&&t.isSupportedBtn(def)){$dropdown.append(t.buildSubBtn(def));}});t.$box.append($dropdown.hide());}else if(btn.key){t.keys[btn.key]={fn:btn.fn||btnName,param:btn.param||btnName};}if(!isDropdown){t.tagToButton[(btn.tag||btnName).toLowerCase()]=btnName;}return $btn;},buildSubBtn:function(btnName){var t=this,prefix=t.o.prefix,btn=t.btnsDef[btnName];if(btn.key){t.keys[btn.key]={fn:btn.fn||btnName,param:btn.param||btnName};}t.tagToButton[(btn.tag||btnName).toLowerCase()]=btnName;return $('<button/>',{type:'button',class:prefix+btnName+'-dropdown-button'+(btn.ico?' '+prefix+btn.ico+'-button':''),html:'<svg><use xlink:href=\"#'+prefix+(btn.ico||btnName).replace(/([A-Z]+)/g,'-$1').toLowerCase()+'\"/></svg>'+(btn.text||btn.title||t.lang[btnName]||btnName),title:((btn.key)?' (Ctrl + '+btn.key+')':null),style:btn.style||null,mousedown:function(){$('body',t.doc).trigger('mousedown');t.execCmd(btn.fn||btnName,btn.param||btnName,btn.forceCss||false);return false;}});},isSupportedBtn:function(b){try{return this.btnsDef[b].isSupported();}catch(c){}return true;},buildOverlay:function(){var t=this;t.$overlay=$('<div/>',{class:t.o.prefix+'overlay'}).css({top:t.$btnPane.outerHeight(),height:(t.$ed.outerHeight()+1)+'px'}).appendTo(t.$box);return t.$overlay;},showOverlay:function(){var t=this;$(window).trigger('scroll');t.$overlay.fadeIn(200);t.$box.addClass(t.o.prefix+'box-blur');},hideOverlay:function(){var t=this;t.$overlay.fadeOut(50);t.$box.removeClass(t.o.prefix+'box-blur');},fixedBtnPaneEvents:function(){var t=this,fixedFullWidth=t.o.fixedFullWidth,$box=t.$box;if(!t.o.fixedBtnPane){return;}t.isFixed=false;$(window).on('scroll resize',function(){if(!$box){return;}t.syncCode();var scrollTop=$(window).scrollTop(),offset=$box.offset().top+1,bp=t.$btnPane,oh=bp.outerHeight()-2;if((scrollTop-offset>0)&&((scrollTop-offset-t.height)<0)){if(!t.isFixed){t.isFixed=true;bp.css({position:'fixed',top:0,left:fixedFullWidth?'0':'auto',zIndex:7});$([t.$ta,t.$ed]).css({marginTop:bp.height()});}bp.css({width:fixedFullWidth?'100%':(($box.width()-1)+'px')});$('.'+t.o.prefix+'fixed-top',$box).css({position:fixedFullWidth?'fixed':'absolute',top:fixedFullWidth?oh:oh+(scrollTop-offset)+'px',zIndex:15});}else if(t.isFixed){t.isFixed=false;bp.removeAttr('style');$([t.$ta,t.$ed]).css({marginTop:0});$('.'+t.o.prefix+'fixed-top',$box).css({position:'absolute',top:oh});}});},destroy:function(){var t=this,prefix=t.o.prefix,height=t.height;if(t.isTextarea){t.$box.after(t.$ta.css({height:height}).val(t.html()).removeClass(prefix+'textarea').show());}else{t.$box.after(t.$ed.css({height:height}).removeClass(prefix+'editor').removeAttr('contenteditable').html(t.html()).show());}t.$ed.off('dblclick','img');t.destroyPlugins();t.$box.remove();t.$c.removeData('trumbowyg');$('body').removeClass(prefix+'body-fullscreen');},empty:function(){this.$ta.val('');this.syncCode(true);},toggle:function(){var t=this,prefix=t.o.prefix;t.semanticCode(false,true);setTimeout(function(){t.$box.toggleClass(prefix+'editor-hidden '+prefix+'editor-visible');t.$btnPane.toggleClass(prefix+'disable');$('.'+prefix+'viewHTML-button',t.$btnPane).toggleClass(prefix+'active');if(t.$box.hasClass(prefix+'editor-visible')){t.$ta.attr('tabindex',-1);}else{t.$ta.removeAttr('tabindex');}},0);},dropdown:function(name){var t=this,d=t.doc,prefix=t.o.prefix,$dropdown=$('[data-dropdown='+name+']',t.$box),$btn=$('.'+prefix+name+'-button',t.$btnPane),show=$dropdown.is(':hidden');$('body',d).trigger('mousedown');if(show){var o=$btn.offset().left;$btn.addClass(prefix+'active');$dropdown.css({position:'absolute',top:$btn.offset().top-t.$btnPane.offset().top+$btn.outerHeight(),left:(t.o.fixedFullWidth&&t.isFixed)?o+'px':(o-t.$btnPane.offset().left)+'px'}).show();$(window).trigger('scroll');$('body',d).on('mousedown',function(){$('.'+prefix+'dropdown',d).hide();$('.'+prefix+'active',d).removeClass(prefix+'active');$('body',d).off('mousedown');});}},html:function(html){var t=this;if(html!=null){t.$ta.val(html);t.syncCode(true);return t;}return t.$ta.val();},syncCode:function(force){var t=this;if(!force&&t.$ed.is(':visible')){t.$ta.val(t.$ed.html());}else{t.$ed.html(t.$ta.val());}if(t.o.autogrow){t.height=t.$ed.height();if(t.height!==t.$ta.css('height')){t.$ta.css({height:t.height});t.$c.trigger('tbwresize');}}},semanticCode:function(force,full){var t=this;t.saveRange();t.syncCode(force);if(t.o.tagsToRemove.length>0){$(t.o.tagsToRemove.join(', '),t.$ed).remove();}if(t.o.semantic){t.semanticTag('b','strong');t.semanticTag('i','em');t.semanticTag('strike','del');if(full){var inlineElementsSelector=t.o.inlineElementsSelector,blockElementsSelector=':not('+t.o.inlineElementsSelector+')';t.$ed.contents().filter(function(){return this.nodeType===3&&$.trim(this.nodeValue).length>0;}).wrap('<span data-tbw/>');var wrapInlinesInParagraphsFrom=function($from){if($from.length!==0){var $finalParagraph=$from.nextUntil(blockElementsSelector).andSelf().wrapAll('<p/>').parent();$finalParagraph.next('br').remove();var $nextElement=$finalParagraph.nextAll(inlineElementsSelector).first();if($nextElement.length){wrapInlinesInParagraphsFrom($nextElement);}}};wrapInlinesInParagraphsFrom(t.$ed.children(inlineElementsSelector).first());t.semanticTag('div','p',true);t.$ed.find('p').filter(function(){if(t.range&&this===t.range.startContainer){return false;}return $(this).text().trim().length===0&&$(this).children().not('br,span').length===0;}).contents().unwrap();$('[data-tbw]',t.$ed).contents().unwrap();t.$ed.find('p:empty').remove();}t.restoreRange();t.$ta.val(t.$ed.html());}},semanticTag:function(oldTag,newTag,copyAttributes){$(oldTag,this.$ed).each(function(){var $oldTag=$(this);$oldTag.wrap('<'+newTag+'/>');if(copyAttributes){$.each($oldTag.prop('attributes'),function(){$oldTag.parent().attr(this.name,this.value);});}$oldTag.contents().unwrap();});},createLink:function(){var t=this,documentSelection=t.doc.getSelection(),node=documentSelection.focusNode,url,title,target;while(['A','DIV'].indexOf(node.nodeName)<0){node=node.parentNode;}if(node&&node.nodeName==='A'){var $a=$(node);url=$a.attr('href');title=$a.attr('title');target=$a.attr('target');var range=t.doc.createRange();range.selectNode(node);documentSelection.addRange(range);}t.saveRange();t.openModalInsert(t.lang.createLink,{url:{label:'URL',required:true,value:url},title:{label:t.lang.title,value:title},text:{label:t.lang.text,value:t.getRangeText()},target:{label:t.lang.target,value:target}},function(v){var link=$(['<a href=\"',v.url,'\">',v.text,'</a>'].join(''));if(v.title.length>0){link.attr('title',v.title);}if(v.target.length>0){link.attr('target',v.target);}t.range.deleteContents();t.range.insertNode(link[0]);return true;});},unlink:function(){var t=this,documentSelection=t.doc.getSelection(),node=documentSelection.focusNode;if(documentSelection.isCollapsed){while(['A','DIV'].indexOf(node.nodeName)<0){node=node.parentNode;}if(node&&node.nodeName==='A'){var range=t.doc.createRange();range.selectNode(node);documentSelection.addRange(range);}}t.execCmd('unlink',undefined,undefined,true);},insertImage:function(){var t=this;t.saveRange();t.openModalInsert(t.lang.insertImage,{url:{label:'URL',required:true},alt:{label:t.lang.description,value:t.getRangeText()}},function(v){t.execCmd('insertImage',v.url);$('img[src=\"'+v.url+'\"]:not([alt])',t.$box).attr('alt',v.alt);return true;});},fullscreen:function(){var t=this,prefix=t.o.prefix,fullscreenCssClass=prefix+'fullscreen',isFullscreen;t.$box.toggleClass(fullscreenCssClass);isFullscreen=t.$box.hasClass(fullscreenCssClass);$('body').toggleClass(prefix+'body-fullscreen',isFullscreen);$(window).trigger('scroll');t.$c.trigger('tbw'+(isFullscreen?'open':'close')+'fullscreen');},execCmd:function(cmd,param,forceCss,skipTrumbowyg){var t=this;skipTrumbowyg=!!skipTrumbowyg||'';if(cmd!=='dropdown'){t.$ed.focus();}t.doc.execCommand('styleWithCSS',false,forceCss||false);try{t[cmd+skipTrumbowyg](param);}catch(c){try{cmd(param);}catch(e2){if(cmd==='insertHorizontalRule'){param=undefined;}else if(cmd==='formatBlock'&&(navigator.userAgent.indexOf('MSIE')!==-1||navigator.appVersion.indexOf('Trident/')!==-1)){param='<'+param+'>';}t.doc.execCommand(cmd,false,param);t.syncCode();t.semanticCode(false,true);}if(cmd!=='dropdown'){t.updateButtonPaneStatus();t.$c.trigger('tbwchange');}}},openModal:function(title,content){var t=this,prefix=t.o.prefix;if($('.'+prefix+'modal-box',t.$box).length>0){return false;}t.saveRange();t.showOverlay();t.$btnPane.addClass(prefix+'disable');var $modal=$('<div/>',{class:prefix+'modal '+prefix+'fixed-top'}).css({top:t.$btnPane.height()}).appendTo(t.$box);t.$overlay.one('click',function(){$modal.trigger('tbwcancel');return false;});var $form=$('<form/>',{action:'',html:content}).on('submit',function(){$modal.trigger('tbwconfirm');return false;}).on('reset',function(){$modal.trigger('tbwcancel');return false;});var $box=$('<div/>',{class:prefix+'modal-box',html:$form}).css({top:'-'+t.$btnPane.outerHeight()+'px',opacity:0}).appendTo($modal).animate({top:0,opacity:1},100);$('<span/>',{text:title,class:prefix+'modal-title'}).prependTo($box);$modal.height($box.outerHeight()+10);$('input:first',$box).focus();t.buildModalBtn('submit',$box);t.buildModalBtn('reset',$box);$(window).trigger('scroll');return $modal;},buildModalBtn:function(n,$modal){var t=this,prefix=t.o.prefix;return $('<button/>',{class:prefix+'modal-button '+prefix+'modal-'+n,type:n,text:t.lang[n]||n}).appendTo($('form',$modal));},closeModal:function(){var t=this,prefix=t.o.prefix;t.$btnPane.removeClass(prefix+'disable');t.$overlay.off();var $mb=$('.'+prefix+'modal-box',t.$box);$mb.animate({top:'-'+$mb.height()},100,function(){$mb.parent().remove();t.hideOverlay();});t.restoreRange();},openModalInsert:function(title,fields,cmd){var t=this,prefix=t.o.prefix,lg=t.lang,html='',CONFIRM_EVENT='tbwconfirm';$.each(fields,function(fieldName,field){var l=field.label,n=field.name||fieldName;html+='<label><input type=\"'+(field.type||'text')+'\" name=\"'+n+'\" value=\"'+(field.value||'').replace(/\"/g,'&quot;')+'\"><span class=\"'+prefix+'input-infos\"><span>'+((!l)?(lg[fieldName]?lg[fieldName]:fieldName):(lg[l]?lg[l]:l))+'</span></span></label>';});return t.openModal(title,html).on(CONFIRM_EVENT,function(){var $form=$('form',$(this)),valid=true,values={};$.each(fields,function(fieldName,field){var $field=$('input[name=\"'+fieldName+'\"]',$form);values[fieldName]=$.trim($field.val());if(field.required&&values[fieldName]===''){valid=false;t.addErrorOnModalField($field,t.lang.required);}else if(field.pattern&&!field.pattern.test(values[fieldName])){valid=false;t.addErrorOnModalField($field,field.patternError);}});if(valid){t.restoreRange();if(cmd(values,fields)){t.syncCode();t.$c.trigger('tbwchange');t.closeModal();$(this).off(CONFIRM_EVENT);}}}).one('tbwcancel',function(){$(this).off(CONFIRM_EVENT);t.closeModal();});},addErrorOnModalField:function($field,err){var prefix=this.o.prefix,$label=$field.parent();$field.on('change keyup',function(){$label.removeClass(prefix+'input-error');});$label.addClass(prefix+'input-error').find('input+span').append($('<span/>',{class:prefix+'msg-error',text:err}));},saveRange:function(){var t=this,documentSelection=t.doc.getSelection();t.range=null;if(documentSelection.rangeCount){var savedRange=t.range=documentSelection.getRangeAt(0),range=t.doc.createRange(),rangeStart;range.selectNodeContents(t.$ed[0]);range.setEnd(savedRange.startContainer,savedRange.startOffset);rangeStart=(range+'').length;t.metaRange={start:rangeStart,end:rangeStart+(savedRange+'').length};}},restoreRange:function(){var t=this,metaRange=t.metaRange,savedRange=t.range,documentSelection=t.doc.getSelection(),range;if(!savedRange){return;}if(metaRange&&metaRange.start!==metaRange.end){var charIndex=0,nodeStack=[t.$ed[0]],node,foundStart=false,stop=false;range=t.doc.createRange();while(!stop&&(node=nodeStack.pop())){if(node.nodeType===3){var nextCharIndex=charIndex+node.length;if(!foundStart&&metaRange.start>=charIndex&&metaRange.start<=nextCharIndex){range.setStart(node,metaRange.start-charIndex);foundStart=true;}if(foundStart&&metaRange.end>=charIndex&&metaRange.end<=nextCharIndex){range.setEnd(node,metaRange.end-charIndex);stop=true;}charIndex=nextCharIndex;}else{var cn=node.childNodes,i=cn.length;while(i>0){i-=1;nodeStack.push(cn[i]);}}}}documentSelection.removeAllRanges();documentSelection.addRange(range||savedRange);},getRangeText:function(){return this.range+'';},updateButtonPaneStatus:function(){var t=this,prefix=t.o.prefix,tags=t.getTagsRecursive(t.doc.getSelection().focusNode.parentNode),activeClasses=prefix+'active-button '+prefix+'active';$('.'+prefix+'active-button',t.$btnPane).removeClass(activeClasses);$.each(tags,function(i,tag){var btnName=t.tagToButton[tag.toLowerCase()],$btn=$('.'+prefix+btnName+'-button',t.$btnPane);if($btn.length>0){$btn.addClass(activeClasses);}else{try{$btn=$('.'+prefix+'dropdown .'+prefix+btnName+'-dropdown-button',t.$box);var dropdownBtnName=$btn.parent().data('dropdown');$('.'+prefix+dropdownBtnName+'-button',t.$box).addClass(activeClasses);}catch(e){}}});},getTagsRecursive:function(element,tags){var t=this;tags=tags||[];var tag=element.tagName;if(tag==='DIV'){return tags;}if(tag==='P'&&element.style.textAlign!==''){tags.push(element.style.textAlign);}$.each(t.tagHandlers,function(i,tagHandler){tags=tags.concat(tagHandler(element,t));});tags.push(tag);return t.getTagsRecursive(element.parentNode,tags);},initPlugins:function(){var t=this;t.loadedPlugins=[];$.each($.trumbowyg.plugins,function(name,plugin){if(!plugin.shouldInit||plugin.shouldInit(t)){plugin.init(t);if(plugin.tagHandler){t.tagHandlers.push(plugin.tagHandler);}t.loadedPlugins.push(plugin);}});},destroyPlugins:function(){$.each(this.loadedPlugins,function(i,plugin){if(plugin.destroy){plugin.destroy();}});}};})(navigator,window,document,jQuery);";
var mod_pagespeed_C$dpI1minD = "this.wysihtml5=this.wysihtml5||{},this.wysihtml5.tpl=this.wysihtml5.tpl||{},this.wysihtml5.tpl.blockquote=Handlebars.template(function(a,b,c,d,e){function f(a){var b,c=\"\";return c+=\"btn-\"+l((b=a&&a.options,b=null==b||b===!1?b:b.toolbar,b=null==b||b===!1?b:b.size,typeof b===k?b.apply(a):b))}function g(){return' \\n      <span class=\"fa fa-quote-left\"></span>\\n    '}function h(){return'\\n      <span class=\"glyphicon glyphicon-quote\"></span>\\n    '}this.compilerInfo=[4,\">= 1.0.0\"],c=this.merge(c,a.helpers),e=e||{};var i,j=\"\",k=\"function\",l=this.escapeExpression,m=this;return j+='<li>\\n  <a class=\"btn ',i=c[\"if\"].call(b,(i=b&&b.options,i=null==i||i===!1?i:i.toolbar,null==i||i===!1?i:i.size),{hash:{},inverse:m.noop,fn:m.program(1,f,e),data:e}),(i||0===i)&&(j+=i),j+=' btn-default\" data-wysihtml5-command=\"formatBlock\" data-wysihtml5-command-value=\"blockquote\" data-wysihtml5-display-format-name=\"false\" tabindex=\"-1\">\\n    ',i=c[\"if\"].call(b,(i=b&&b.options,i=null==i||i===!1?i:i.toolbar,null==i||i===!1?i:i.fa),{hash:{},inverse:m.program(5,h,e),fn:m.program(3,g,e),data:e}),(i||0===i)&&(j+=i),j+=\"\\n  </a>\\n</li>\\n\"}),this.wysihtml5.tpl.color=Handlebars.template(function(a,b,c,d,e){function f(a){var b,c=\"\";return c+=\"btn-\"+j((b=a&&a.options,b=null==b||b===!1?b:b.toolbar,b=null==b||b===!1?b:b.size,typeof b===i?b.apply(a):b))}this.compilerInfo=[4,\">= 1.0.0\"],c=this.merge(c,a.helpers),e=e||{};var g,h=\"\",i=\"function\",j=this.escapeExpression,k=this;return h+='<li class=\"dropdown\">\\n  <a class=\"btn btn-default dropdown-toggle ',g=c[\"if\"].call(b,(g=b&&b.options,g=null==g||g===!1?g:g.toolbar,null==g||g===!1?g:g.size),{hash:{},inverse:k.noop,fn:k.program(1,f,e),data:e}),(g||0===g)&&(h+=g),h+='\" data-toggle=\"dropdown\" tabindex=\"-1\">\\n    <span class=\"current-color\">'+j((g=b&&b.locale,g=null==g||g===!1?g:g.colours,g=null==g||g===!1?g:g.black,typeof g===i?g.apply(b):g))+'</span>\\n    <b class=\"caret\"></b>\\n  </a>\\n  <ul class=\"dropdown-menu\">\\n    <li><div class=\"wysihtml5-colors\" data-wysihtml5-command-value=\"black\"></div><a class=\"wysihtml5-colors-title\" data-wysihtml5-command=\"foreColor\" data-wysihtml5-command-value=\"black\">'+j((g=b&&b.locale,g=null==g||g===!1?g:g.colours,g=null==g||g===!1?g:g.black,typeof g===i?g.apply(b):g))+'</a></li>\\n    <li><div class=\"wysihtml5-colors\" data-wysihtml5-command-value=\"silver\"></div><a class=\"wysihtml5-colors-title\" data-wysihtml5-command=\"foreColor\" data-wysihtml5-command-value=\"silver\">'+j((g=b&&b.locale,g=null==g||g===!1?g:g.colours,g=null==g||g===!1?g:g.silver,typeof g===i?g.apply(b):g))+'</a></li>\\n    <li><div class=\"wysihtml5-colors\" data-wysihtml5-command-value=\"gray\"></div><a class=\"wysihtml5-colors-title\" data-wysihtml5-command=\"foreColor\" data-wysihtml5-command-value=\"gray\">'+j((g=b&&b.locale,g=null==g||g===!1?g:g.colours,g=null==g||g===!1?g:g.gray,typeof g===i?g.apply(b):g))+'</a></li>\\n    <li><div class=\"wysihtml5-colors\" data-wysihtml5-command-value=\"maroon\"></div><a class=\"wysihtml5-colors-title\" data-wysihtml5-command=\"foreColor\" data-wysihtml5-command-value=\"maroon\">'+j((g=b&&b.locale,g=null==g||g===!1?g:g.colours,g=null==g||g===!1?g:g.maroon,typeof g===i?g.apply(b):g))+'</a></li>\\n    <li><div class=\"wysihtml5-colors\" data-wysihtml5-command-value=\"red\"></div><a class=\"wysihtml5-colors-title\" data-wysihtml5-command=\"foreColor\" data-wysihtml5-command-value=\"red\">'+j((g=b&&b.locale,g=null==g||g===!1?g:g.colours,g=null==g||g===!1?g:g.red,typeof g===i?g.apply(b):g))+'</a></li>\\n    <li><div class=\"wysihtml5-colors\" data-wysihtml5-command-value=\"purple\"></div><a class=\"wysihtml5-colors-title\" data-wysihtml5-command=\"foreColor\" data-wysihtml5-command-value=\"purple\">'+j((g=b&&b.locale,g=null==g||g===!1?g:g.colours,g=null==g||g===!1?g:g.purple,typeof g===i?g.apply(b):g))+'</a></li>\\n    <li><div class=\"wysihtml5-colors\" data-wysihtml5-command-value=\"green\"></div><a class=\"wysihtml5-colors-title\" data-wysihtml5-command=\"foreColor\" data-wysihtml5-command-value=\"green\">'+j((g=b&&b.locale,g=null==g||g===!1?g:g.colours,g=null==g||g===!1?g:g.green,typeof g===i?g.apply(b):g))+'</a></li>\\n    <li><div class=\"wysihtml5-colors\" data-wysihtml5-command-value=\"olive\"></div><a class=\"wysihtml5-colors-title\" data-wysihtml5-command=\"foreColor\" data-wysihtml5-command-value=\"olive\">'+j((g=b&&b.locale,g=null==g||g===!1?g:g.colours,g=null==g||g===!1?g:g.olive,typeof g===i?g.apply(b):g))+'</a></li>\\n    <li><div class=\"wysihtml5-colors\" data-wysihtml5-command-value=\"navy\"></div><a class=\"wysihtml5-colors-title\" data-wysihtml5-command=\"foreColor\" data-wysihtml5-command-value=\"navy\">'+j((g=b&&b.locale,g=null==g||g===!1?g:g.colours,g=null==g||g===!1?g:g.navy,typeof g===i?g.apply(b):g))+'</a></li>\\n    <li><div class=\"wysihtml5-colors\" data-wysihtml5-command-value=\"blue\"></div><a class=\"wysihtml5-colors-title\" data-wysihtml5-command=\"foreColor\" data-wysihtml5-command-value=\"blue\">'+j((g=b&&b.locale,g=null==g||g===!1?g:g.colours,g=null==g||g===!1?g:g.blue,typeof g===i?g.apply(b):g))+'</a></li>\\n    <li><div class=\"wysihtml5-colors\" data-wysihtml5-command-value=\"orange\"></div><a class=\"wysihtml5-colors-title\" data-wysihtml5-command=\"foreColor\" data-wysihtml5-command-value=\"orange\">'+j((g=b&&b.locale,g=null==g||g===!1?g:g.colours,g=null==g||g===!1?g:g.orange,typeof g===i?g.apply(b):g))+\"</a></li>\\n  </ul>\\n</li>\\n\"}),this.wysihtml5.tpl.emphasis=Handlebars.template(function(a,b,c,d,e){function f(a){var b,c=\"\";return c+=\"btn-\"+k((b=a&&a.options,b=null==b||b===!1?b:b.toolbar,b=null==b||b===!1?b:b.size,typeof b===j?b.apply(a):b))}function g(a,b){var d,e=\"\";return e+='\\n    <a class=\"btn ',d=c[\"if\"].call(a,(d=a&&a.options,d=null==d||d===!1?d:d.toolbar,null==d||d===!1?d:d.size),{hash:{},inverse:l.noop,fn:l.program(1,f,b),data:b}),(d||0===d)&&(e+=d),e+=' btn-default\" data-wysihtml5-command=\"small\" title=\"CTRL+S\" tabindex=\"-1\">'+k((d=a&&a.locale,d=null==d||d===!1?d:d.emphasis,d=null==d||d===!1?d:d.small,typeof d===j?d.apply(a):d))+\"</a>\\n    \"}this.compilerInfo=[4,\">= 1.0.0\"],c=this.merge(c,a.helpers),e=e||{};var h,i=\"\",j=\"function\",k=this.escapeExpression,l=this;return i+='<li>\\n  <div class=\"btn-group\">\\n    <a class=\"btn ',h=c[\"if\"].call(b,(h=b&&b.options,h=null==h||h===!1?h:h.toolbar,null==h||h===!1?h:h.size),{hash:{},inverse:l.noop,fn:l.program(1,f,e),data:e}),(h||0===h)&&(i+=h),i+=' btn-default\" data-wysihtml5-command=\"bold\" title=\"CTRL+B\" tabindex=\"-1\">'+k((h=b&&b.locale,h=null==h||h===!1?h:h.emphasis,h=null==h||h===!1?h:h.bold,typeof h===j?h.apply(b):h))+'</a>\\n    <a class=\"btn ',h=c[\"if\"].call(b,(h=b&&b.options,h=null==h||h===!1?h:h.toolbar,null==h||h===!1?h:h.size),{hash:{},inverse:l.noop,fn:l.program(1,f,e),data:e}),(h||0===h)&&(i+=h),i+=' btn-default\" data-wysihtml5-command=\"italic\" title=\"CTRL+I\" tabindex=\"-1\">'+k((h=b&&b.locale,h=null==h||h===!1?h:h.emphasis,h=null==h||h===!1?h:h.italic,typeof h===j?h.apply(b):h))+'</a>\\n    <a class=\"btn ',h=c[\"if\"].call(b,(h=b&&b.options,h=null==h||h===!1?h:h.toolbar,null==h||h===!1?h:h.size),{hash:{},inverse:l.noop,fn:l.program(1,f,e),data:e}),(h||0===h)&&(i+=h),i+=' btn-default\" data-wysihtml5-command=\"underline\" title=\"CTRL+U\" tabindex=\"-1\">'+k((h=b&&b.locale,h=null==h||h===!1?h:h.emphasis,h=null==h||h===!1?h:h.underline,typeof h===j?h.apply(b):h))+\"</a>\\n    \",h=c[\"if\"].call(b,(h=b&&b.options,h=null==h||h===!1?h:h.toolbar,h=null==h||h===!1?h:h.emphasis,null==h||h===!1?h:h.small),{hash:{},inverse:l.noop,fn:l.program(3,g,e),data:e}),(h||0===h)&&(i+=h),i+=\"\\n  </div>\\n</li>\\n\"}),this.wysihtml5.tpl[\"font-styles\"]=Handlebars.template(function(a,b,c,d,e){function f(a){var b,c=\"\";return c+=\"btn-\"+l((b=a&&a.options,b=null==b||b===!1?b:b.toolbar,b=null==b||b===!1?b:b.size,typeof b===k?b.apply(a):b))}function g(){return'\\n      <span class=\"fa fa-font\"></span>\\n    '}function h(){return'\\n      <span class=\"glyphicon glyphicon-font\"></span>\\n    '}this.compilerInfo=[4,\">= 1.0.0\"],c=this.merge(c,a.helpers),e=e||{};var i,j=\"\",k=\"function\",l=this.escapeExpression,m=this;return j+='<li class=\"dropdown\">\\n  <a class=\"btn btn-default dropdown-toggle ',i=c[\"if\"].call(b,(i=b&&b.options,i=null==i||i===!1?i:i.toolbar,null==i||i===!1?i:i.size),{hash:{},inverse:m.noop,fn:m.program(1,f,e),data:e}),(i||0===i)&&(j+=i),j+='\" data-toggle=\"dropdown\">\\n    ',i=c[\"if\"].call(b,(i=b&&b.options,i=null==i||i===!1?i:i.toolbar,null==i||i===!1?i:i.fa),{hash:{},inverse:m.program(5,h,e),fn:m.program(3,g,e),data:e}),(i||0===i)&&(j+=i),j+='\\n    <span class=\"current-font\">'+l((i=b&&b.locale,i=null==i||i===!1?i:i.font_styles,i=null==i||i===!1?i:i.normal,typeof i===k?i.apply(b):i))+'</span>\\n    <b class=\"caret\"></b>\\n  </a>\\n  <ul class=\"dropdown-menu\">\\n    <li><a data-wysihtml5-command=\"formatBlock\" data-wysihtml5-command-value=\"p\" tabindex=\"-1\">'+l((i=b&&b.locale,i=null==i||i===!1?i:i.font_styles,i=null==i||i===!1?i:i.normal,typeof i===k?i.apply(b):i))+'</a></li>\\n    <li><a data-wysihtml5-command=\"formatBlock\" data-wysihtml5-command-value=\"h1\" tabindex=\"-1\">'+l((i=b&&b.locale,i=null==i||i===!1?i:i.font_styles,i=null==i||i===!1?i:i.h1,typeof i===k?i.apply(b):i))+'</a></li>\\n    <li><a data-wysihtml5-command=\"formatBlock\" data-wysihtml5-command-value=\"h2\" tabindex=\"-1\">'+l((i=b&&b.locale,i=null==i||i===!1?i:i.font_styles,i=null==i||i===!1?i:i.h2,typeof i===k?i.apply(b):i))+'</a></li>\\n    <li><a data-wysihtml5-command=\"formatBlock\" data-wysihtml5-command-value=\"h3\" tabindex=\"-1\">'+l((i=b&&b.locale,i=null==i||i===!1?i:i.font_styles,i=null==i||i===!1?i:i.h3,typeof i===k?i.apply(b):i))+'</a></li>\\n    <li><a data-wysihtml5-command=\"formatBlock\" data-wysihtml5-command-value=\"h4\" tabindex=\"-1\">'+l((i=b&&b.locale,i=null==i||i===!1?i:i.font_styles,i=null==i||i===!1?i:i.h4,typeof i===k?i.apply(b):i))+'</a></li>\\n    <li><a data-wysihtml5-command=\"formatBlock\" data-wysihtml5-command-value=\"h5\" tabindex=\"-1\">'+l((i=b&&b.locale,i=null==i||i===!1?i:i.font_styles,i=null==i||i===!1?i:i.h5,typeof i===k?i.apply(b):i))+'</a></li>\\n    <li><a data-wysihtml5-command=\"formatBlock\" data-wysihtml5-command-value=\"h6\" tabindex=\"-1\">'+l((i=b&&b.locale,i=null==i||i===!1?i:i.font_styles,i=null==i||i===!1?i:i.h6,typeof i===k?i.apply(b):i))+\"</a></li>\\n  </ul>\\n</li>\\n\"}),this.wysihtml5.tpl.html=Handlebars.template(function(a,b,c,d,e){function f(a){var b,c=\"\";return c+=\"btn-\"+l((b=a&&a.options,b=null==b||b===!1?b:b.toolbar,b=null==b||b===!1?b:b.size,typeof b===k?b.apply(a):b))}function g(){return'\\n        <span class=\"fa fa-pencil\"></span>\\n      '}function h(){return'\\n        <span class=\"glyphicon glyphicon-pencil\"></span>\\n      '}this.compilerInfo=[4,\">= 1.0.0\"],c=this.merge(c,a.helpers),e=e||{};var i,j=\"\",k=\"function\",l=this.escapeExpression,m=this;return j+='<li>\\n  <div class=\"btn-group\">\\n    <a class=\"btn ',i=c[\"if\"].call(b,(i=b&&b.options,i=null==i||i===!1?i:i.toolbar,null==i||i===!1?i:i.size),{hash:{},inverse:m.noop,fn:m.program(1,f,e),data:e}),(i||0===i)&&(j+=i),j+=' btn-default\" data-wysihtml5-action=\"change_view\" title=\"'+l((i=b&&b.locale,i=null==i||i===!1?i:i.html,i=null==i||i===!1?i:i.edit,typeof i===k?i.apply(b):i))+'\" tabindex=\"-1\">\\n      ',i=c[\"if\"].call(b,(i=b&&b.options,i=null==i||i===!1?i:i.toolbar,null==i||i===!1?i:i.fa),{hash:{},inverse:m.program(5,h,e),fn:m.program(3,g,e),data:e}),(i||0===i)&&(j+=i),j+=\"\\n    </a>\\n  </div>\\n</li>\\n\"}),this.wysihtml5.tpl.image=Handlebars.template(function(a,b,c,d,e){function f(){return\"modal-sm\"}function g(a){var b,c=\"\";return c+=\"btn-\"+m((b=a&&a.options,b=null==b||b===!1?b:b.toolbar,b=null==b||b===!1?b:b.size,typeof b===l?b.apply(a):b))}function h(){return'\\n      <span class=\"fa fa-file-image-o\"></span>\\n    '}function i(){return'\\n      <span class=\"glyphicon glyphicon-picture\"></span>\\n    '}this.compilerInfo=[4,\">= 1.0.0\"],c=this.merge(c,a.helpers),e=e||{};var j,k=\"\",l=\"function\",m=this.escapeExpression,n=this;return k+='<li>\\n  <div class=\"bootstrap-wysihtml5-insert-image-modal modal fade\" data-wysihtml5-dialog=\"insertImage\">\\n    <div class=\"modal-dialog ',j=c[\"if\"].call(b,(j=b&&b.options,j=null==j||j===!1?j:j.toolbar,null==j||j===!1?j:j.smallmodals),{hash:{},inverse:n.noop,fn:n.program(1,f,e),data:e}),(j||0===j)&&(k+=j),k+='\">\\n      <div class=\"modal-content\">\\n        <div class=\"modal-header\">\\n          <a class=\"close\" data-dismiss=\"modal\">&times;</a>\\n          <h3>'+m((j=b&&b.locale,j=null==j||j===!1?j:j.image,j=null==j||j===!1?j:j.insert,typeof j===l?j.apply(b):j))+'</h3>\\n        </div>\\n        <div class=\"modal-body\">\\n          <div class=\"form-group\">\\n            <input value=\"http://\" class=\"bootstrap-wysihtml5-insert-image-url form-control\">\\n          </div> \\n        </div>\\n        <div class=\"modal-footer\">\\n          <a class=\"btn btn-default\" data-dismiss=\"modal\" data-wysihtml5-dialog-action=\"cancel\" href=\"#\">'+m((j=b&&b.locale,j=null==j||j===!1?j:j.image,j=null==j||j===!1?j:j.cancel,typeof j===l?j.apply(b):j))+'</a>\\n          <a class=\"btn btn-primary\" data-dismiss=\"modal\"  data-wysihtml5-dialog-action=\"save\" href=\"#\">'+m((j=b&&b.locale,j=null==j||j===!1?j:j.image,j=null==j||j===!1?j:j.insert,typeof j===l?j.apply(b):j))+'</a>\\n        </div>\\n      </div>\\n    </div>\\n  </div>\\n  <a class=\"btn ',j=c[\"if\"].call(b,(j=b&&b.options,j=null==j||j===!1?j:j.toolbar,null==j||j===!1?j:j.size),{hash:{},inverse:n.noop,fn:n.program(3,g,e),data:e}),(j||0===j)&&(k+=j),k+=' btn-default\" data-wysihtml5-command=\"insertImage\" title=\"'+m((j=b&&b.locale,j=null==j||j===!1?j:j.image,j=null==j||j===!1?j:j.insert,typeof j===l?j.apply(b):j))+'\" tabindex=\"-1\">\\n    ',j=c[\"if\"].call(b,(j=b&&b.options,j=null==j||j===!1?j:j.toolbar,null==j||j===!1?j:j.fa),{hash:{},inverse:n.program(7,i,e),fn:n.program(5,h,e),data:e}),(j||0===j)&&(k+=j),k+=\"\\n  </a>\\n</li>\\n\"}),this.wysihtml5.tpl.link=Handlebars.template(function(a,b,c,d,e){function f(){return\"modal-sm\"}function g(a){var b,c=\"\";return c+=\"btn-\"+m((b=a&&a.options,b=null==b||b===!1?b:b.toolbar,b=null==b||b===!1?b:b.size,typeof b===l?b.apply(a):b))}function h(){return'\\n      <span class=\"fa fa-share-square-o\"></span>\\n    '}function i(){return'\\n      <span class=\"glyphicon glyphicon-share\"></span>\\n    '}this.compilerInfo=[4,\">= 1.0.0\"],c=this.merge(c,a.helpers),e=e||{};var j,k=\"\",l=\"function\",m=this.escapeExpression,n=this;return k+='<li>\\n  <div class=\"bootstrap-wysihtml5-insert-link-modal modal fade\" data-wysihtml5-dialog=\"createLink\">\\n    <div class=\"modal-dialog ',j=c[\"if\"].call(b,(j=b&&b.options,j=null==j||j===!1?j:j.toolbar,null==j||j===!1?j:j.smallmodals),{hash:{},inverse:n.noop,fn:n.program(1,f,e),data:e}),(j||0===j)&&(k+=j),k+='\">\\n      <div class=\"modal-content\">\\n        <div class=\"modal-header\">\\n          <a class=\"close\" data-dismiss=\"modal\">&times;</a>\\n          <h3>'+m((j=b&&b.locale,j=null==j||j===!1?j:j.link,j=null==j||j===!1?j:j.insert,typeof j===l?j.apply(b):j))+'</h3>\\n        </div>\\n        <div class=\"modal-body\">\\n          <div class=\"form-group\">\\n            <input value=\"http://\" class=\"bootstrap-wysihtml5-insert-link-url form-control\" data-wysihtml5-dialog-field=\"href\">\\n          </div> \\n          <div class=\"checkbox\">\\n            <label> \\n              <input type=\"checkbox\" class=\"bootstrap-wysihtml5-insert-link-target\" checked>'+m((j=b&&b.locale,j=null==j||j===!1?j:j.link,j=null==j||j===!1?j:j.target,typeof j===l?j.apply(b):j))+'\\n            </label>\\n          </div>\\n        </div>\\n        <div class=\"modal-footer\">\\n          <a class=\"btn btn-default\" data-dismiss=\"modal\" data-wysihtml5-dialog-action=\"cancel\" href=\"#\">'+m((j=b&&b.locale,j=null==j||j===!1?j:j.link,j=null==j||j===!1?j:j.cancel,typeof j===l?j.apply(b):j))+'</a>\\n          <a href=\"#\" class=\"btn btn-primary\" data-dismiss=\"modal\" data-wysihtml5-dialog-action=\"save\">'+m((j=b&&b.locale,j=null==j||j===!1?j:j.link,j=null==j||j===!1?j:j.insert,typeof j===l?j.apply(b):j))+'</a>\\n        </div>\\n      </div>\\n    </div>\\n  </div>\\n  <a class=\"btn ',j=c[\"if\"].call(b,(j=b&&b.options,j=null==j||j===!1?j:j.toolbar,null==j||j===!1?j:j.size),{hash:{},inverse:n.noop,fn:n.program(3,g,e),data:e}),(j||0===j)&&(k+=j),k+=' btn-default\" data-wysihtml5-command=\"createLink\" title=\"'+m((j=b&&b.locale,j=null==j||j===!1?j:j.link,j=null==j||j===!1?j:j.insert,typeof j===l?j.apply(b):j))+'\" tabindex=\"-1\">\\n    ',j=c[\"if\"].call(b,(j=b&&b.options,j=null==j||j===!1?j:j.toolbar,null==j||j===!1?j:j.fa),{hash:{},inverse:n.program(7,i,e),fn:n.program(5,h,e),data:e}),(j||0===j)&&(k+=j),k+=\"\\n  </a>\\n</li>\\n\"}),this.wysihtml5.tpl.lists=Handlebars.template(function(a,b,c,d,e){function f(a){var b,c=\"\";return c+=\"btn-\"+r((b=a&&a.options,b=null==b||b===!1?b:b.toolbar,b=null==b||b===!1?b:b.size,typeof b===q?b.apply(a):b))}function g(){return'\\n      <span class=\"fa fa-list-ul\"></span>\\n    '}function h(){return'\\n      <span class=\"glyphicon glyphicon-list\"></span>\\n    '}function i(){return'\\n      <span class=\"fa fa-list-ol\"></span>\\n    '}function j(){return'\\n      <span class=\"glyphicon glyphicon-th-list\"></span>\\n    '}function k(){return'\\n      <span class=\"fa fa-outdent\"></span>\\n    '}function l(){return'\\n      <span class=\"glyphicon glyphicon-indent-right\"></span>\\n    '}function m(){return'\\n      <span class=\"fa fa-indent\"></span>\\n    '}function n(){return'\\n      <span class=\"glyphicon glyphicon-indent-left\"></span>\\n    '}this.compilerInfo=[4,\">= 1.0.0\"],c=this.merge(c,a.helpers),e=e||{};var o,p=\"\",q=\"function\",r=this.escapeExpression,s=this;return p+='<li>\\n  <div class=\"btn-group\">\\n    <a class=\"btn ',o=c[\"if\"].call(b,(o=b&&b.options,o=null==o||o===!1?o:o.toolbar,null==o||o===!1?o:o.size),{hash:{},inverse:s.noop,fn:s.program(1,f,e),data:e}),(o||0===o)&&(p+=o),p+=' btn-default\" data-wysihtml5-command=\"insertUnorderedList\" title=\"'+r((o=b&&b.locale,o=null==o||o===!1?o:o.lists,o=null==o||o===!1?o:o.unordered,typeof o===q?o.apply(b):o))+'\" tabindex=\"-1\">\\n    ',o=c[\"if\"].call(b,(o=b&&b.options,o=null==o||o===!1?o:o.toolbar,null==o||o===!1?o:o.fa),{hash:{},inverse:s.program(5,h,e),fn:s.program(3,g,e),data:e}),(o||0===o)&&(p+=o),p+='\\n    </a>\\n    <a class=\"btn ',o=c[\"if\"].call(b,(o=b&&b.options,o=null==o||o===!1?o:o.toolbar,null==o||o===!1?o:o.size),{hash:{},inverse:s.noop,fn:s.program(1,f,e),data:e}),(o||0===o)&&(p+=o),p+=' btn-default\" data-wysihtml5-command=\"insertOrderedList\" title=\"'+r((o=b&&b.locale,o=null==o||o===!1?o:o.lists,o=null==o||o===!1?o:o.ordered,typeof o===q?o.apply(b):o))+'\" tabindex=\"-1\">\\n    ',o=c[\"if\"].call(b,(o=b&&b.options,o=null==o||o===!1?o:o.toolbar,null==o||o===!1?o:o.fa),{hash:{},inverse:s.program(9,j,e),fn:s.program(7,i,e),data:e}),(o||0===o)&&(p+=o),p+='\\n    </a>\\n    <a class=\"btn ',o=c[\"if\"].call(b,(o=b&&b.options,o=null==o||o===!1?o:o.toolbar,null==o||o===!1?o:o.size),{hash:{},inverse:s.noop,fn:s.program(1,f,e),data:e}),(o||0===o)&&(p+=o),p+=' btn-default\" data-wysihtml5-command=\"Outdent\" title=\"'+r((o=b&&b.locale,o=null==o||o===!1?o:o.lists,o=null==o||o===!1?o:o.outdent,typeof o===q?o.apply(b):o))+'\" tabindex=\"-1\">\\n    ',o=c[\"if\"].call(b,(o=b&&b.options,o=null==o||o===!1?o:o.toolbar,null==o||o===!1?o:o.fa),{hash:{},inverse:s.program(13,l,e),fn:s.program(11,k,e),data:e}),(o||0===o)&&(p+=o),p+='\\n    </a>\\n    <a class=\"btn ',o=c[\"if\"].call(b,(o=b&&b.options,o=null==o||o===!1?o:o.toolbar,null==o||o===!1?o:o.size),{hash:{},inverse:s.noop,fn:s.program(1,f,e),data:e}),(o||0===o)&&(p+=o),p+=' btn-default\" data-wysihtml5-command=\"Indent\" title=\"'+r((o=b&&b.locale,o=null==o||o===!1?o:o.lists,o=null==o||o===!1?o:o.indent,typeof o===q?o.apply(b):o))+'\" tabindex=\"-1\">\\n    ',o=c[\"if\"].call(b,(o=b&&b.options,o=null==o||o===!1?o:o.toolbar,null==o||o===!1?o:o.fa),{hash:{},inverse:s.program(17,n,e),fn:s.program(15,m,e),data:e}),(o||0===o)&&(p+=o),p+=\"\\n    </a>\\n  </div>\\n</li>\\n\"}),function(a){\"function\"==typeof define&&define.amd?define(\"bootstrap.wysihtml5\",[\"jquery\",\"wysihtml5\",\"bootstrap\",\"bootstrap.wysihtml5.templates\",\"bootstrap.wysihtml5.commands\"],a):a(jQuery,wysihtml5)}(function(a,b){var c=function(a,b){\"use strict\";var c=function(a,c,d){return b.tpl[a]?b.tpl[a]({locale:c,options:d}):void 0},d=function(c,d){this.el=c;var e=a.extend(!0,{},f,d);for(var g in e.customTemplates)b.tpl[g]=e.customTemplates[g];this.toolbar=this.createToolbar(c,e),this.editor=this.createEditor(e)};d.prototype={constructor:d,createEditor:function(c){c=c||{},c=a.extend(!0,{},c),c.toolbar=this.toolbar[0];var d=new b.Editor(this.el[0],c);if(d.composer.editableArea.contentDocument?this.addMoreShortcuts(d,d.composer.editableArea.contentDocument.body||d.composer.editableArea.contentDocument,c.shortcuts):this.addMoreShortcuts(d,d.composer.editableArea,c.shortcuts),c&&c.events)for(var e in c.events)d.on(e,c.events[e]);return d.on(\"beforeload\",this.syncBootstrapDialogEvents),d},syncBootstrapDialogEvents:function(){var b=this;a.map(this.toolbar.commandMapping,function(a){return[a]}).filter(function(a){return a.dialog}).map(function(a){return a.dialog}).forEach(function(c){c.on(\"show\",function(){a(this.container).modal(\"show\")}),c.on(\"hide\",function(){a(this.container).modal(\"hide\"),b.composer.focus()}),a(c.container).on(\"shown.bs.modal\",function(){a(this).find(\"input, select, textarea\").first().focus()})})},createToolbar:function(b,d){var e=this,h=a(\"<ul/>\",{\"class\":\"wysihtml5-toolbar\",style:\"display:none\"}),i=d.locale||f.locale||\"en\";g.hasOwnProperty(i)||(i=\"en\");var j=a.extend(!0,{},g.en,g[i]);for(var k in d.toolbar)d.toolbar[k]&&(h.append(c(k,j,d)),\"html\"===k&&this.initHtml(h));return h.find('a[data-wysihtml5-command=\"formatBlock\"]').click(function(b){var c=b.delegateTarget||b.target||b.srcElement,d=a(c),f=d.data(\"wysihtml5-display-format-name\"),g=d.data(\"wysihtml5-format-name\")||d.html();(void 0===f||\"true\"===f)&&e.toolbar.find(\".current-font\").text(g)}),h.find('a[data-wysihtml5-command=\"foreColor\"]').click(function(b){var c=b.target||b.srcElement,d=a(c);e.toolbar.find(\".current-color\").text(d.html())}),this.el.before(h),h},initHtml:function(a){var b='a[data-wysihtml5-action=\"change_view\"]';a.find(b).click(function(){a.find(\"a.btn\").not(b).toggleClass(\"disabled\")})},addMoreShortcuts:function(a,c,d){b.dom.observe(c,\"keydown\",function(c){var e=c.keyCode,f=d[e];if((c.ctrlKey||c.metaKey||c.altKey)&&f&&b.commands[f]){var g=a.toolbar.commandMapping[f+\":null\"];g&&g.dialog&&!g.state?g.dialog.show():b.commands[f].exec(a.composer,f),c.preventDefault()}})}};var e={resetDefaults:function(){a.fn.wysihtml5.defaultOptions=a.extend(!0,{},a.fn.wysihtml5.defaultOptionsCache)},bypassDefaults:function(b){return this.each(function(){var c=a(this);c.data(\"wysihtml5\",new d(c,b))})},shallowExtend:function(b){var c=a.extend({},a.fn.wysihtml5.defaultOptions,b||{},a(this).data()),d=this;return e.bypassDefaults.apply(d,[c])},deepExtend:function(b){var c=a.extend(!0,{},a.fn.wysihtml5.defaultOptions,b||{}),d=this;return e.bypassDefaults.apply(d,[c])},init:function(a){var b=this;return e.shallowExtend.apply(b,[a])}};a.fn.wysihtml5=function(b){return e[b]?e[b].apply(this,Array.prototype.slice.call(arguments,1)):\"object\"!=typeof b&&b?void a.error(\"Method \"+b+\" does not exist on jQuery.wysihtml5\"):e.init.apply(this,arguments)},a.fn.wysihtml5.Constructor=d;var f=a.fn.wysihtml5.defaultOptions={toolbar:{\"font-styles\":!0,color:!1,emphasis:{small:!0},blockquote:!0,lists:!0,html:!1,link:!0,image:!0,smallmodals:!1},parserRules:{classes:{\"wysiwyg-color-silver\":1,\"wysiwyg-color-gray\":1,\"wysiwyg-color-white\":1,\"wysiwyg-color-maroon\":1,\"wysiwyg-color-red\":1,\"wysiwyg-color-purple\":1,\"wysiwyg-color-fuchsia\":1,\"wysiwyg-color-green\":1,\"wysiwyg-color-lime\":1,\"wysiwyg-color-olive\":1,\"wysiwyg-color-yellow\":1,\"wysiwyg-color-navy\":1,\"wysiwyg-color-blue\":1,\"wysiwyg-color-teal\":1,\"wysiwyg-color-aqua\":1,\"wysiwyg-color-orange\":1},tags:{b:{},i:{},strong:{},em:{},p:{},br:{},ol:{},ul:{},li:{},h1:{},h2:{},h3:{},h4:{},h5:{},h6:{},blockquote:{},u:1,img:{check_attributes:{width:\"numbers\",alt:\"alt\",src:\"url\",height:\"numbers\"}},a:{check_attributes:{href:\"url\"},set_attributes:{target:\"_blank\",rel:\"nofollow\"}},span:1,div:1,small:1,code:1,pre:1}},locale:\"en\",shortcuts:{83:\"small\"}};\"undefined\"==typeof a.fn.wysihtml5.defaultOptionsCache&&(a.fn.wysihtml5.defaultOptionsCache=a.extend(!0,{},a.fn.wysihtml5.defaultOptions));var g=a.fn.wysihtml5.locale={}};c(a,b)}),function(a){a.commands.small={exec:function(b,c){return a.commands.formatInline.exec(b,c,\"small\")},state:function(b,c){return a.commands.formatInline.state(b,c,\"small\")}}}(wysihtml5),function(a){\"function\"==typeof define&&define.amd?define(\"bootstrap.wysihtml5.en-US\",[\"jquery\",\"bootstrap.wysihtml5\"],a):a(jQuery)}(function(a){a.fn.wysihtml5.locale.en=a.fn.wysihtml5.locale[\"en-US\"]={font_styles:{normal:\"Normal text\",h1:\"Heading 1\",h2:\"Heading 2\",h3:\"Heading 3\",h4:\"Heading 4\",h5:\"Heading 5\",h6:\"Heading 6\"},emphasis:{bold:\"Bold\",italic:\"Italic\",underline:\"Underline\",small:\"Small\"},lists:{unordered:\"Unordered list\",ordered:\"Ordered list\",outdent:\"Outdent\",indent:\"Indent\"},link:{insert:\"Insert link\",cancel:\"Cancel\",target:\"Open link in new window\"},image:{insert:\"Insert image\",cancel:\"Cancel\"},html:{edit:\"Edit HTML\"},colours:{black:\"Black\",silver:\"Silver\",gray:\"Grey\",maroon:\"Maroon\",red:\"Red\",purple:\"Purple\",green:\"Green\",olive:\"Olive\",navy:\"Navy\",blue:\"Blue\",orange:\"Orange\"}}});";
